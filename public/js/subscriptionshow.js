$(window).scroll(function(i){article_height=$(".article").outerHeight();var n=article_height/2,a=n+400,e=$(window).scrollTop();e<a&&$(".pop_mail").removeClass("popmail_show fadeInUp"),e>a&&$(".pop_mail").addClass("popmail_show fadeInUp")}),$(".pop_mail .close").click(function(){$(".pop_mail").css("display","none")});var Subscription=function(){function i(i){return i.val().trim().indexOf("@")!=-1||(i.css({border:"1px solid red"}),!1)}function n(i){return!!i.val().trim().length||(i.css({border:"1px solid red"}),!1)}function a(a){a.on("click",function(a){if(a.preventDefault(),i($("input[name=subscription_email]"))&&n($("#subscription_name"))){var e=$("input[name=subscription_email]").val().trim(),s=$("#subscription_name").val().trim();$.ajax({type:"POST",url:"/subscription",data:{email:e,name:s,_token:$("input[name=_token]").val()},success:function(){$("input[name=subscription_email]").css({border:"1px solid #ccc","margin-bottom":"20px"}).val(""),$("#subscription_name").css({border:"1px solid #ccc"}).val(""),$("#subscription_name").hide(),swal("Успешно!","Перейдите на указанный email чтобы подтвердить подписку","success")}})}})}return{bindMakeSubscription:a}}();$("input[name=subscription_email]").on("input",function(){var i=$("input[name=subscription_email]").val().lastIndexOf("."),n=$("input[name=subscription_email]").val().indexOf("@");1!=$("input[name=subscription_email]").val().indexOf(".")&&n<i&&1!=n?($(".pop_mail .hidden_input, .icon_man").addClass("fadeInDown "),$(".pop_mail .hidden_input").addClass("visible_input"),$(".pop_mail .hidden_input, .icon_man").removeClass("fadeOutUp ")):($(".pop_mail .hidden_input").removeClass("visible_input"),$(".pop_mail .hidden_input, .icon_man").removeClass("fadeInDown "),$(".pop_mail .hidden_input, .icon_man").addClass("fadeOutUp "))}),Subscription.bindMakeSubscription($("#make_subscription"));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInN1YnNjcmlwdGlvbnNob3cuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsInNjcm9sbCIsImVsZW0iLCJhcnRpY2xlX2hlaWdodCIsIm91dGVySGVpZ2h0IiwicG9zaXRpb24iLCJwb3NpdGlvbmZvcnNob3ciLCJub3dzY3JvbGxpbmciLCJzY3JvbGxUb3AiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiY2xpY2siLCJjc3MiLCJTdWJzY3JpcHRpb24iLCJjaGVja0VtYWlsIiwidmFsIiwidHJpbSIsImluZGV4T2YiLCJib3JkZXIiLCJjaGVja0xlbmd0aCIsImxlbmd0aCIsImJpbmRNYWtlU3Vic2NyaXB0aW9uIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJlbWFpbCIsIm5hbWUiLCJhamF4IiwidHlwZSIsInVybCIsImRhdGEiLCJfdG9rZW4iLCJzdWNjZXNzIiwibWFyZ2luLWJvdHRvbSIsImhpZGUiLCJzd2FsIiwicG9pbnRJbmRleCIsImxhc3RJbmRleE9mIiwiZW1haWxJbmRleCJdLCJtYXBwaW5ncyI6IkFBQ0lBLEVBQUVDLFFBQVFDLE9BQU8sU0FBcUJDLEdBQzlCQyxlQUFpQkosRUFBRSxZQUFZSyxhQUMvQixJQUFJQyxHQUFXRixlQUFlLEVBQzFCRyxFQUFrQkQsRUFBVyxJQUU3QkUsRUFBZVIsRUFBRUMsUUFBUVEsV0FDN0JELEdBQWVELEdBQ2ZQLEVBQUUsYUFBYVUsWUFBWSx5QkFJM0JGLEVBQWVELEdBQ2ZQLEVBQUUsYUFBYVcsU0FBUywyQkFJNUJYLEVBQUUsb0JBQW9CWSxNQUFNLFdBQ3RCWixFQUFFLGFBQWFhLElBQUksVUFBVyxTQVM1QyxJQUFJQyxjQUFlLFdBRWYsUUFBU0MsR0FBV1osR0FDaEIsTUFBSUEsR0FBS2EsTUFBTUMsT0FBT0MsUUFBUSxPQUFRLElBQ2xDZixFQUFLVSxLQUFLTSxPQUFVLG1CQUNiLEdBS2YsUUFBU0MsR0FBYWpCLEdBQ2xCLFFBQU1BLEVBQUthLE1BQU1DLE9BQU9JLFNBQ3BCbEIsRUFBS1UsS0FBS00sT0FBVSxtQkFDYixHQUtmLFFBQVNHLEdBQXFCbkIsR0FDMUJBLEVBQUtvQixHQUFHLFFBQVMsU0FBVUMsR0FFdkIsR0FEQUEsRUFBRUMsaUJBQ0VWLEVBQVdmLEVBQUUsb0NBQXNDb0IsRUFBWXBCLEVBQUUsdUJBQXdCLENBQ3pGLEdBQUkwQixHQUFRMUIsRUFBRSxrQ0FBa0NnQixNQUFNQyxPQUNsRFUsRUFBTzNCLEVBQUUsc0JBQXNCZ0IsTUFBTUMsTUFDekNqQixHQUFFNEIsTUFDRUMsS0FBTSxPQUNOQyxJQUFLLGdCQUNMQyxNQUFPTCxNQUFTQSxFQUFPQyxLQUFRQSxFQUFNSyxPQUFVaEMsRUFBRSxzQkFBc0JnQixPQUN2RWlCLFFBQVMsV0FDTGpDLEVBQUUsa0NBQWtDYSxLQUFLTSxPQUFVLGlCQUFrQmUsZ0JBQWlCLFNBQVNsQixJQUFJLElBQ25HaEIsRUFBRSxzQkFBc0JhLEtBQUtNLE9BQVUsbUJBQW1CSCxJQUFJLElBQzlEaEIsRUFBRSxzQkFBc0JtQyxPQUN4QkMsS0FBSyxXQUFZLDBEQUEyRCxpQkFRaEcsT0FDSWQscUJBQXNCQSxLQUs5QnRCLEdBQUUsa0NBQWtDdUIsR0FBRyxRQUFTLFdBQzVDLEdBQUljLEdBQWFyQyxFQUFFLGtDQUFrQ2dCLE1BQU1zQixZQUFZLEtBQ25FQyxFQUFhdkMsRUFBRSxrQ0FBa0NnQixNQUFNRSxRQUFRLElBQ04sSUFBMURsQixFQUFFLGtDQUFrQ2dCLE1BQU1FLFFBQVEsTUFBWXFCLEVBQWFGLEdBQTRCLEdBQWRFLEdBQ3ZGdkMsRUFBRSxzQ0FBc0NXLFNBQVMsZUFDbERYLEVBQUUsMkJBQTJCVyxTQUFTLGlCQUN0Q1gsRUFBRSxzQ0FBc0NVLFlBQVksZ0JBR3BEVixFQUFFLDJCQUEyQlUsWUFBWSxpQkFDeENWLEVBQUUsc0NBQXNDVSxZQUFZLGVBQ3BEVixFQUFFLHNDQUFzQ1csU0FBUyxpQkFNMURHLGFBQWFRLHFCQUFxQnRCLEVBQUUiLCJmaWxlIjoic3Vic2NyaXB0aW9uc2hvdy5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4gICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiBjaGVja2hlaWdodChlbGVtKXtcclxuICAgICAgICAgICAgYXJ0aWNsZV9oZWlnaHQgPSAkKFwiLmFydGljbGVcIikub3V0ZXJIZWlnaHQoKTtcclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gYXJ0aWNsZV9oZWlnaHQvMiA7XHJcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbmZvcnNob3cgPSBwb3NpdGlvbiArIDQwMDtcclxuICAgICAgICAgICAgLyphc2ZvcnNhdmUqLy8qYXNmb3JzYXZlKi9cclxuICAgICAgICAgICAgdmFyIG5vd3Njcm9sbGluZyA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuICAgICAgICBpZiAobm93c2Nyb2xsaW5nIDwgcG9zaXRpb25mb3JzaG93KXtcclxuICAgICAgICAgICAgJChcIi5wb3BfbWFpbFwiKS5yZW1vdmVDbGFzcyhcInBvcG1haWxfc2hvdyBmYWRlSW5VcFwiKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmIChub3dzY3JvbGxpbmcgPiBwb3NpdGlvbmZvcnNob3cpe1xyXG4gICAgICAgICAgICAkKFwiLnBvcF9tYWlsXCIpLmFkZENsYXNzKFwicG9wbWFpbF9zaG93IGZhZGVJblVwXCIpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgIH0pO1xyXG4gICAgICAgICQoXCIucG9wX21haWwgLmNsb3NlXCIpLmNsaWNrKGZ1bmN0aW9uICgpe1xyXG4gICAgICAgICAgICAgICQoXCIucG9wX21haWxcIikuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcblxyXG5cclxuLy9TVUJTQ1JJQkVfU1VCU0NSSUJFX1NVQlNDUklCRV9TVUJTQ1JJQkVfU1VCU0NSSUJFX1NVQlNDUklCRV9TVUJTQ1JJQkVfU1VCU0NSSUJFX1NVQlNDUklCRV9TVUJTQ1JJQkVfU1VCU0NSSUJFX1xyXG5cclxuXHJcblxyXG52YXIgU3Vic2NyaXB0aW9uID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICBmdW5jdGlvbiBjaGVja0VtYWlsKGVsZW0pIHtcclxuICAgICAgICBpZiAoZWxlbS52YWwoKS50cmltKCkuaW5kZXhPZignQCcpID09IC0xKSB7XHJcbiAgICAgICAgICAgIGVsZW0uY3NzKHsnYm9yZGVyJzogJzFweCBzb2xpZCByZWQnfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2hlY2tMZW5ndGggKGVsZW0pIHtcclxuICAgICAgICBpZiAoISBlbGVtLnZhbCgpLnRyaW0oKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZWxlbS5jc3Moeydib3JkZXInOiAnMXB4IHNvbGlkIHJlZCd9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBiaW5kTWFrZVN1YnNjcmlwdGlvbihlbGVtKSB7XHJcbiAgICAgICAgZWxlbS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChjaGVja0VtYWlsKCQoXCJpbnB1dFtuYW1lPXN1YnNjcmlwdGlvbl9lbWFpbF1cIikpICYmIGNoZWNrTGVuZ3RoKCQoXCIjc3Vic2NyaXB0aW9uX25hbWVcIikpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW1haWwgPSAkKFwiaW5wdXRbbmFtZT1zdWJzY3JpcHRpb25fZW1haWxdXCIpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gJChcIiNzdWJzY3JpcHRpb25fbmFtZVwiKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvc3Vic2NyaXB0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeydlbWFpbCc6IGVtYWlsLCAnbmFtZSc6IG5hbWUsICdfdG9rZW4nOiAkKCdpbnB1dFtuYW1lPV90b2tlbl0nKS52YWwoKX0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiaW5wdXRbbmFtZT1zdWJzY3JpcHRpb25fZW1haWxdXCIpLmNzcyh7J2JvcmRlcic6ICcxcHggc29saWQgI2NjYycsICdtYXJnaW4tYm90dG9tJzogJzIwcHgnfSkudmFsKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNzdWJzY3JpcHRpb25fbmFtZVwiKS5jc3Moeydib3JkZXInOiAnMXB4IHNvbGlkICNjY2MnfSkudmFsKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNzdWJzY3JpcHRpb25fbmFtZVwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWwoJ9Cj0YHQv9C10YjQvdC+IScsICfQn9C10YDQtdC50LTQuNGC0LUg0L3QsCDRg9C60LDQt9Cw0L3QvdGL0LkgZW1haWwg0YfRgtC+0LHRiyDQv9C+0LTRgtCy0LXRgNC00LjRgtGMINC/0L7QtNC/0LjRgdC60YMnLCAnc3VjY2VzcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYmluZE1ha2VTdWJzY3JpcHRpb246IGJpbmRNYWtlU3Vic2NyaXB0aW9uXHJcbiAgICB9XHJcblxyXG59KSgpO1xyXG5cclxuJChcImlucHV0W25hbWU9c3Vic2NyaXB0aW9uX2VtYWlsXVwiKS5vbignaW5wdXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcG9pbnRJbmRleCA9ICQoXCJpbnB1dFtuYW1lPXN1YnNjcmlwdGlvbl9lbWFpbF1cIikudmFsKCkubGFzdEluZGV4T2YoJy4nKTtcclxuICAgIHZhciBlbWFpbEluZGV4ID0gJChcImlucHV0W25hbWU9c3Vic2NyaXB0aW9uX2VtYWlsXVwiKS52YWwoKS5pbmRleE9mKCdAJyk7XHJcbiAgIGlmICgkKFwiaW5wdXRbbmFtZT1zdWJzY3JpcHRpb25fZW1haWxdXCIpLnZhbCgpLmluZGV4T2YoJy4nKSAhPSAxJiYgZW1haWxJbmRleCA8IHBvaW50SW5kZXggJiYgZW1haWxJbmRleCAhPSAxKSB7XHJcbiAgICAgICAgICQoXCIucG9wX21haWwgLmhpZGRlbl9pbnB1dCwgLmljb25fbWFuXCIpLmFkZENsYXNzKFwiZmFkZUluRG93biBcIik7XHJcbiAgICAgICAgJChcIi5wb3BfbWFpbCAuaGlkZGVuX2lucHV0XCIpLmFkZENsYXNzKFwidmlzaWJsZV9pbnB1dFwiKTtcclxuICAgICAgICAkKFwiLnBvcF9tYWlsIC5oaWRkZW5faW5wdXQsIC5pY29uX21hblwiKS5yZW1vdmVDbGFzcyhcImZhZGVPdXRVcCBcIik7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKFwiLnBvcF9tYWlsIC5oaWRkZW5faW5wdXRcIikucmVtb3ZlQ2xhc3MoXCJ2aXNpYmxlX2lucHV0XCIpO1xyXG4gICAgICAgICAkKFwiLnBvcF9tYWlsIC5oaWRkZW5faW5wdXQsIC5pY29uX21hblwiKS5yZW1vdmVDbGFzcyhcImZhZGVJbkRvd24gXCIpO1xyXG4gICAgICAgICAkKFwiLnBvcF9tYWlsIC5oaWRkZW5faW5wdXQsIC5pY29uX21hblwiKS5hZGRDbGFzcyhcImZhZGVPdXRVcCBcIik7XHJcbiAgICAgICAgXHJcblxyXG4gICAgfVxyXG59KTtcclxuXHJcblN1YnNjcmlwdGlvbi5iaW5kTWFrZVN1YnNjcmlwdGlvbigkKCcjbWFrZV9zdWJzY3JpcHRpb24nKSk7Il19
